# Wattpad TXT или FB2 загрузчик

[English instruction - Английская инструкция](https://github.com/Hell13Cat/WPD/blob/master/README.md)

Основано на [Wattpad Epub Scraper](https://github.com/de3sw2aq1/wattpad-ebook-scraper)

Скопируйте истории Wattpad в несколько текстовых файлов и файлов изображений или fb2 для чтения в автономном режиме.

Пожалуйста, используйте это только для личного использования.

## Использование

Укажите формат сохранения и один или несколько URL-адресов историй или глав в качестве аргументов командной строки.

```
$ python3 scrape.py [fb2/txt] http://www.wattpad.com/story/9876543-example-story http://www.wattpad.com/story/9999999-example-story-2 https://my.w.tt/ShortLinkExample
```

Если вам нужно скачать все книги из списка чтения

```
$ python3 getall.py list https://www.wattpad.com/list/882495357-list-link
```

[Не стабильно] Чтобы сохранить все списки из профиля

```
$ python3 getall.py profile https://www.wattpad.com/list/882495357-list-link
```

## Подробности

При этом используются документированные и недокументированные части API Wattpad. Недокументированные части API позволяют загружать текст истории, которые, возможно, может исчезнуть в будущем.

Вызов API деталей истории также не документирован и взят из внутреннего API v3, используемого приложением Android.

## Зависимости

Установите их с помощью `pip`:

```
$ pip install requests python-dateutil smartypants bs4 cfscrape colorama
```

## TODO

* Убедитесь, что введение данные действительно является действительным URL-адресом истории (регулярное выражение).
* Замедляйте загрузку, чтобы выполнить требование о том, что «любая автоматизированная система [...], которая обращается к Веб-сайту таким образом, что отправляет больше сообщений с запросами на серверы Wattpad.com в течение определенного периода времени, чем разумно может произвести человек в тот же период с использованием обычного интернет-браузера "из [условия обслуживания] (http://www.wattpad.com/terms).
* Фактически проверяйте ошибки в ответах API
